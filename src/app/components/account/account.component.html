
<div class="profile-container">
  <div class="profile-form-wrapper animate__animated animate__fadeIn">
    <h2 class="profile-title">Your Profile</h2>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
      <!-- Basic Info Section -->
      <div class="form-section">
        <h3 class="section-title">Basic Information</h3>
        <div class="form-group">
          <label for="full_name" class="form-label">Full Name</label>
          <input type="text" pInputText id="full_name" formControlName="full_name">
          <div *ngIf="profileForm.get('full_name')?.touched && profileForm.get('full_name')?.invalid" class="error-message">
            <div *ngIf="profileForm.get('full_name')?.errors?.['required']">Full name is required.</div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="username" class="form-label">Public Display Name</label>
          <input type="text" pInputText id="display_name" formControlName="display_name">
        </div>

        <div class="form-group">
          <label for="whatsapp_number" class="form-label">WhatsApp Number</label>
          <input type="text" pInputText id="whatsapp_number" formControlName="whatsapp_number">
        </div>
      </div>

      <!-- Professional Info Section -->
      <div class="form-section">
        <h3 class="section-title">Professional Details</h3>
        <div class="form-group">
          <label for="website" class="form-label">Website</label>
          <input type="url" pInputText id="website" formControlName="website">
        </div>

        <div class="form-group">
          <label for="occupation" class="form-label">Occupation</label>
          <input type="text" pInputText id="occupation" formControlName="occupation">
        </div>

        <div class="form-group">
          <label for="bio" class="form-label">Bio</label>
          <textarea pInputTextarea id="bio" formControlName="bio" class="bio-textarea" maxlength="150"></textarea>
        </div>
      </div>

      
      <!-- Avatar Section -->
      <div class="form-section">
        <h3 class="section-title">
          Profile Picture
          <i class="fas fa-info-circle" title="This profile picture will be publicly available"></i>
        </h3>
        <div class="form-group">
          <div class="avatar-upload-container">
            <img *ngIf="avatarUrl" [src]="avatarUrl" class="avatar-preview" alt="Avatar preview">
            <div class="upload-controls">
              <input
                type="file"
                accept="image/*"
                (change)="onAvatarSelected($event)"
                #avatarInput
                style="display: none">
              <p-button 
                type="button"
                [label]="avatarUrl ? 'Change Photo' : 'Upload Photo'"
                (onClick)="avatarInput.click()"
                styleClass="p-button-secondary">
              </p-button>
            </div>
          </div>
        </div>
      </div>
      
      <p-button  type="submit" [label]="loading ? 'Updating...' : 'Update Profile'" [disabled]="profileForm.invalid || loading"></p-button>
    </form>
  </div>
</div>